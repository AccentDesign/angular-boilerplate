@if (errors().length > 0) {
  <app-message title="Oops!" variant="destructive">
    @for (err of errors(); track err) {
      {{ err }}<br />
    }
  </app-message>
}

@if (success()) {
  <app-message title="Thanks">Your profile was updated successfully.</app-message>
}

<form (ngSubmit)="submit()" [formGroup]="form" class="grid gap-6">
  <div>
    <label hlmLabel>First Name</label>
    <input hlmInput class="w-full" formControlName="first_name" type="text" />
    <app-form-error
      [errors]="form.controls.first_name.errors"
      [show]="form.controls.first_name.touched && form.controls.first_name.invalid"
    ></app-form-error>
  </div>
  <div>
    <label hlmLabel>Last Name</label>
    <input hlmInput class="w-full" formControlName="last_name" type="text" />
    <app-form-error
      [errors]="form.controls.last_name.errors"
      [show]="form.controls.last_name.touched && form.controls.last_name.invalid"
    ></app-form-error>
  </div>
  <div>
    <label hlmLabel>Email</label>
    <input hlmInput class="w-full" formControlName="email" type="email" />
    <app-form-error
      [errors]="form.controls.email.errors"
      [show]="form.controls.email.touched && form.controls.email.invalid"
    ></app-form-error>
  </div>
  <div>
    <button hlmBtn [disabled]="submitting()" type="submit">Update Profile</button>
  </div>
</form>
